/**
 * Created by PAVEI on 30/09/2014.
 * Updated by Ross Martin on 12/05/2014
 * Updated by Chuehnone on 04/02/2015
 */
angular.module("ionicLazyLoad",[]),angular.module("ionicLazyLoad").directive("lazyScroll",["$rootScope","$timeout",function(n,t){return{restrict:"A",link:function(c,i){var o=0;c.invoke=function(){n.$broadcast("lazyScrollEvent")},i.bind("scroll",function(){t.cancel(o),o=t(c.invoke,0)})}}}]).directive("imageLazySrc",["$document","$timeout",function(n,t){return{restrict:"A",link:function(c,i,o){function e(){var t=i[0].getBoundingClientRect().top,c=n[0].documentElement.clientHeight;return t>=0&&c>=t}e()&&(i[0].src=o.imageLazySrc),c.$on("lazyScrollEvent",function(){t(function(){i[0].src!=o.imageLazySrc&&e()&&(i[0].src=o.imageLazySrc)},0)}),i.on("$destroy",function(){})}}}]);